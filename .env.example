# ===========================================
# SISTEMA FINANCEIRO - OPEN FINANCE BRASIL
# ===========================================
# ATENÇÃO: Este arquivo contém APENAS exemplos.
# NÃO utilize em produção sem configuração real.
# ===========================================

# Ambiente
NODE_ENV=development
PORT=3000

# ===========================================
# BANCO DE DADOS (PostgreSQL)
# ===========================================
DB_HOST=localhost
DB_PORT=5432
DB_NAME=openfinance_db
DB_USER=postgres
DB_PASSWORD=sua_senha_aqui
DB_SSL=false

# ===========================================
# JWT - AUTENTICAÇÃO
# ===========================================
JWT_SECRET=sua_chave_secreta_muito_longa_e_segura_aqui_min_32_chars
JWT_EXPIRES_IN=1d
JWT_REFRESH_SECRET=outra_chave_secreta_para_refresh_token
JWT_REFRESH_EXPIRES_IN=7d

# ===========================================
# OPEN FINANCE BRASIL
# ===========================================
# IMPORTANTE: Estes valores são para SANDBOX.
# Para produção, utilize os endpoints oficiais.
# Documentação: https://openfinancebrasil.atlassian.net/

# URL base do diretório de participantes
OF_DIRECTORY_URL=https://data.sandbox.directory.openbankingbrasil.org.br

# URL de callback para OAuth
OF_REDIRECT_URI=http://localhost:3000/api/open-finance/callback

# Client ID registrado no diretório (obrigatório após homologação)
OF_CLIENT_ID=seu_client_id_aqui

# ===========================================
# CERTIFICADOS mTLS (ICP-Brasil)
# ===========================================
# Caminhos para certificados de transporte e assinatura
# OBRIGATÓRIO para comunicação com APIs Open Finance
MTLS_CERT_PATH=./src/config/certificates/transport.crt
MTLS_KEY_PATH=./src/config/certificates/transport.key
MTLS_CA_PATH=./src/config/certificates/ca-bundle.crt

# Certificado de assinatura (para JWS)
SIGNING_CERT_PATH=./src/config/certificates/signing.crt
SIGNING_KEY_PATH=./src/config/certificates/signing.key

# ===========================================
# BRAPI - COTAÇÕES B3
# ===========================================
# API pública para cotações de ações/FIIs
# Documentação: https://brapi.dev/docs
BRAPI_BASE_URL=https://brapi.dev/api
BRAPI_TOKEN=seu_token_brapi_aqui

# Cache de cotações em segundos (padrão: 15 minutos)
BRAPI_CACHE_TTL=900

# ===========================================
# LGPD - CONFORMIDADE
# ===========================================
# Tempo de retenção de dados em dias (padrão: 5 anos = 1825 dias)
DATA_RETENTION_DAYS=1825

# Tempo para expurgo após revogação (em dias)
DATA_PURGE_AFTER_REVOCATION_DAYS=30

# ===========================================
# LOGS E AUDITORIA
# ===========================================
LOG_LEVEL=info
LOG_FILE_PATH=./logs/app.log
AUDIT_LOG_ENABLED=true

# ===========================================
# RATE LIMITING
# ===========================================
RATE_LIMIT_WINDOW_MS=900000
RATE_LIMIT_MAX_REQUESTS=100

# ===========================================
# CRIPTOGRAFIA
# ===========================================
# Chave para criptografia de dados sensíveis (AES-256)
ENCRYPTION_KEY=sua_chave_de_criptografia_32_caracteres
